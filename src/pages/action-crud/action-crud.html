<ion-header>
    <ion-navbar>
        <ion-buttons start>
            <button ion-button (click)="dismiss()">
                <span ion-text color="primary" showWhen="ios">Cancel</span>
                <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
            </button>
        </ion-buttons>
        <ion-title>
            New Action
        </ion-title>
        <ion-buttons end>
            <button (click)="send()" ion-button icon-right>
                Send
                <ion-icon name="send"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>
<ion-content fixed>
    <ion-item text-wrap class="custom-row-autocomplete">
        <label>To</label>
        <p>
            <span *ngFor="let user of model.assignedUsers">{{user.names}}</span>
            <input #inputname [(ngModel)]="username" (input)="displayUsers($event)" (keyup)="removeLast($event)" type="text" name="username"
            />
        </p>
    </ion-item>
    <ion-item *ngIf="users.length > 0">
        <ion-list class="custom-list-users">
            <button *ngFor="let user of users" (click)="addUser(user)" ion-item detail-none type="button">{{user.names}}</button>
        </ion-list>
    </ion-item>
    <ion-item text-wrap class="custom-row-autocomplete">
        <label>Project</label>
        <p>
            <span *ngFor="let project of model.projects">{{project.name}}</span>
            <input [(ngModel)]="projectname" (input)="displayProjects($event)" (keyup)="removeLast($event)" type="text" name="username"
            />
        </p>
    </ion-item>
    <ion-item *ngIf="projects.length > 0">
        <ion-list class="custom-list-users">
            <button *ngFor="let project of projects" (click)="addProject(project)" (keyup)="removeLastProject($event)" ion-item detail-none
                type="button">{{project.name}}</button>
        </ion-list>
    </ion-item>
    <ion-item (click)="calendar()" class="custom-row-autocomplete">
        <label>Due date</label>
        <span class="no-border">{{model.dueDate}}</span>
    </ion-item>
    <ion-item>
        <div #subject class="subject-action" contenteditable="true" placeholder="Describe the action"></div>
    </ion-item>
    <div>
        <button ion-button clear icon-left (click)="attach()">        
            <ion-icon name="attach"></ion-icon>
        </button>
    </div>
</ion-content>